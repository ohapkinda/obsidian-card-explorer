/* Контейнер для единой структуры */
.unified-tree-container {
  padding: 10px; /* Внутренние отступы контейнера */
  font-family: var(--font-family); /* Используем шрифт темы Obsidian */
  overflow-y: auto; /* Вертикальная прокрутка при необходимости */
}

/* Контейнер для папки */
.folder-container {
  margin-bottom: 8px; /* Отступ между папками */
}

/* Содержимое папки */
.folder-content {
  margin-top: 8px; /* Отступ от заголовка папки */
}

/* Контейнер для подпапок */
.subfolders-container {
  margin-bottom: 12px; /* Отступ перед карточками файлов */
}

/* Контейнер для карточек файлов */
.files-container {
  margin-top: 8px; /* Отступ от подпапок */
}

/* Сетка карточек (возвращаем оригинальный стиль) */
.card-grid {
  display: grid; /* Используем CSS Grid для создания сетки */
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); /* Автоматическое заполнение колонок с минимальной шириной 180px */
  gap: 6px; /* Уменьшаем отступы между карточками в 2 раза (12px -> 6px) */
  padding: 10px; /* Внутренние отступы контейнера */
}

/* Сетка карточек на всю ширину */
.card-grid-full-width {
  display: grid; /* Используем CSS Grid для создания сетки */
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Уменьшаем максимальную ширину на 1/3 (300px -> 200px) */
  gap: 6px; /* Уменьшаем отступы между карточками в 2 раза (12px -> 6px) */
  padding: 10px; /* Внутренние отступы контейнера */
}

/* Стили для отдельных карточек (возвращаем оригинальный стиль) */
.card {
  background: var(--background-primary); /* Фон карточки использует основную тему Obsidian */
  border: 1px solid var(--background-modifier-border); /* Граница карточки в стиле темы */
  border-radius: 10px; /* Закругленные углы для современного вида */
  padding: 10px; /* Внутренние отступы карточки */
  cursor: pointer; /* Курсор-указатель при наведении */
  transition: all 0.2s; /* Плавная анимация всех изменений */
  box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Тень для создания эффекта глубины */
}

.card:hover {
  transform: scale(1.02); /* Легкое увеличение карточки на 2% */
  background: var(--background-secondary); /* Изменение фона на вторичный цвет темы */
}

.card h3 {
  font-size: 1.1em; /* Размер шрифта немного больше обычного */
  margin-bottom: 6px; /* Отступ снизу от заголовка */
  word-wrap: break-word; /* Перенос длинных слов */
  overflow-wrap: break-word; /* Современная альтернатива для переноса слов */
}

.card p {
  word-wrap: break-word; /* Перенос длинных слов */
  overflow-wrap: break-word; /* Современная альтернатива для переноса слов */
  line-height: 1.4; /* Межстрочный интервал для лучшей читаемости */
  hyphens: auto; /* Автоматическая расстановка переносов */
}


/* Элемент дерева (папка или файл) */
.tree-item {
  margin-bottom: 4px; /* Отступ между элементами */
  cursor: pointer; /* Курсор-указатель при наведении */
}

/* Контекстное меню */
.context-menu {
  background: var(--background-primary); /* Фон меню */
  border: 1px solid var(--background-modifier-border); /* Граница меню */
  border-radius: 8px; /* Закругленные углы */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Тень для глубины */
  padding: 4px 0; /* Внутренние отступы */
  min-width: 180px; /* Минимальная ширина */
  z-index: 10000; /* Очень высокий z-index для отображения поверх всех элементов */
  font-size: 14px; /* Размер шрифта */
  position: fixed; /* Фиксированное позиционирование относительно viewport */
  max-height: 300px; /* Максимальная высота с прокруткой */
  overflow-y: auto; /* Вертикальная прокрутка при необходимости */
}

/* Элемент контекстного меню */
.context-menu-item {
  display: flex; /* Горизонтальное расположение иконки и текста */
  align-items: center; /* Выравнивание по центру */
  padding: 8px 12px; /* Внутренние отступы */
  cursor: pointer; /* Курсор-указатель */
  transition: background-color 0.2s; /* Плавное изменение фона */
  user-select: none; /* Запрет выделения текста */
}

.context-menu-item:hover {
  background: var(--background-modifier-hover); /* Фон при наведении */
}

/* Опасные действия (удаление) */
.context-menu-item.dangerous {
  color: var(--text-error); /* Красный цвет для опасных действий */
}

.context-menu-item.dangerous:hover {
  background: var(--background-modifier-error); /* Красный фон при наведении */
}

/* Иконка в контекстном меню */
.context-menu-icon {
  margin-right: 8px; /* Отступ справа от иконки */
  font-size: 16px; /* Размер иконки */
  width: 20px; /* Фиксированная ширина для выравнивания */
  text-align: center; /* Выравнивание по центру */
}

/* Текст в контекстном меню */
.context-menu-label {
  flex: 1; /* Занимает оставшееся пространство */
  font-weight: 400; /* Обычный шрифт */
}

/* Заголовок папки */
.folder-header {
  display: flex; /* Горизонтальное расположение иконки и названия */
  align-items: center; /* Выравнивание по центру */
  padding: 6px 8px; /* Внутренние отступы */
  border-radius: 6px; /* Закругленные углы */
  transition: background-color 0.2s; /* Плавное изменение фона */
  user-select: none; /* Запрет выделения текста */
}

.folder-header:hover {
  background-color: var(--background-modifier-hover); /* Фон при наведении */
}

/* Иконка папки */
.folder-icon {
  margin-right: 8px; /* Отступ справа от иконки */
  font-size: 1.2em; /* Размер иконки */
}

/* Название папки */
.folder-name {
  font-weight: 500; /* Полужирный шрифт */
  color: var(--text-normal); /* Цвет текста темы */
}

/* Контейнер для содержимого папки */
.folder-children {
  margin-left: 16px; /* Отступ слева для вложенности */
  border-left: 1px solid var(--background-modifier-border); /* Вертикальная линия */
  padding-left: 8px; /* Отступ от линии */
}

/* Заголовок файла */
.file-header {
  display: flex; /* Горизонтальное расположение иконки и названия */
  align-items: center; /* Выравнивание по центру */
  padding: 6px 8px; /* Внутренние отступы */
  border-radius: 6px; /* Закругленные углы */
  transition: background-color 0.2s; /* Плавное изменение фона */
  user-select: none; /* Запрет выделения текста */
}

.file-header:hover {
  background-color: var(--background-modifier-hover); /* Фон при наведении */
}

/* Иконка файла */
.file-icon {
  margin-right: 8px; /* Отступ справа от иконки */
  font-size: 1.1em; /* Размер иконки */
}

/* Название файла */
.file-name {
  font-weight: 400; /* Обычный шрифт */
  color: var(--text-normal); /* Цвет текста темы */
  flex: 1; /* Занимает оставшееся пространство */
}

/* Превью содержимого файла */
.file-preview {
  margin-top: 4px; /* Отступ сверху */
  margin-left: 24px; /* Отступ слева для выравнивания с названием */
  font-size: 0.9em; /* Меньший размер шрифта */
  color: var(--text-muted); /* Приглушенный цвет текста */
  line-height: 1.3; /* Межстрочный интервал */
  word-wrap: break-word; /* Перенос длинных слов */
  overflow-wrap: break-word; /* Современная альтернатива для переноса слов */
  max-height: 2.6em; /* Ограничение высоты (2 строки) */
  overflow: hidden; /* Скрытие переполнения */
}
